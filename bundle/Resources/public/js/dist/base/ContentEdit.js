!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],t):"object"==typeof exports?exports.ContentEdit=t(require("react"),require("react-dom")):(e.IntProg=e.IntProg||{},e.IntProg.EnhancedRelationList=e.IntProg.EnhancedRelationList||{},e.IntProg.EnhancedRelationList.ContentEdit=t(e.React,e.ReactDOM))}("undefined"!=typeof self?self:this,function(e,t){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=5)}([function(t,n){t.exports=e},function(e,t,n){!function(e,o){!function(e,t,n,o){"use strict";function r(e,t){return t={exports:{}},e(t,t.exports),t.exports}function i(e){if(Array.isArray(e))return e}function a(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{o||null==s.return||s.return()}finally{if(r)throw i}}return n}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function l(e,t){return G(e)||L(e,t)||W()}function u(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function c(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function f(e){return H(e)||B(e)||U()}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function m(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),e}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){return!t||"object"!==V(t)&&"function"!=typeof t?Y(e):t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$(e,t)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){return e.node.sortableInfo.index-t.node.sortableInfo.index}function x(e,t,n){return e=e.slice(),e.splice(n<0?e.length+n:n,0,e.splice(t,1)[0]),e}function O(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return Object.keys(e).reduce(function(t,o){return-1===n.indexOf(o)&&(t[o]=e[o]),t},{})}function E(e,t){for(;e;){if(t(e))return e;e=e.parentNode}return null}function S(e,t,n){return Math.max(e,Math.min(n,t))}function _(e){return"px"===e.substr(-2)?parseFloat(e):0}function k(e){var t=window.getComputedStyle(e);return{top:_(t.marginTop),right:_(t.marginRight),bottom:_(t.marginBottom),left:_(t.marginLeft)}}function C(e,t){var n=t.displayName||t.name;return n?"".concat(e,"(").concat(n,")"):e}function R(e){return e.touches&&e.touches.length?{x:e.touches[0].pageX,y:e.touches[0].pageY}:e.changedTouches&&e.changedTouches.length?{x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}:{x:e.pageX,y:e.pageY}}function I(e){return e.touches&&e.touches.length||e.changedTouches&&e.changedTouches.length}function T(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,left:0};if(e){var o={top:n.top+e.offsetTop,left:n.left+e.offsetLeft};return e.parentNode===t?o:T(e.parentNode,t,o)}}function j(e){var t=e.lockOffset,n=e.width,o=e.height,r=t,i=t,a="px";if("string"==typeof t){var s=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(t);te(null!==s,'lockOffset value should be a number or a string of a number followed by "px" or "%". Given %s',t),r=parseFloat(t),i=parseFloat(t),a=s[1]}return te(isFinite(r)&&isFinite(i),"lockOffset value should be a finite. Given %s",t),"%"===a&&(r=r*n/100,i=i*o/100),{x:r,y:i}}function P(e,t){try{var n=e()}catch(e){return t(!0,e)}return n&&n.then?n.then(t.bind(null,!1),t.bind(null,!0)):t(!1,value)}function N(e){var r,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return i=r=function(n){function r(e){var t;return q(this,r),t=J(this,Z(r).call(this,e)),Q(Y(Y(t)),"handleStart",function(e){var n=t.props,o=n.distance,r=n.shouldCancelStart;if(2!==e.button&&!r(e)){t._touched=!0,t._pos=R(e);var i=E(e.target,function(e){return null!=e.sortableInfo});if(i&&i.sortableInfo&&t.nodeIsChild(i)&&!t.state.sorting){var a=t.props.useDragHandle,s=i.sortableInfo,l=s.index,u=s.collection;if(a&&!E(e.target,function(e){return null!=e.sortableHandle}))return;t.manager.active={index:l,collection:u},I(e)||"a"!==e.target.tagName.toLowerCase()||e.preventDefault(),o||(0===t.props.pressDelay?t.handlePress(e):t.pressTimer=setTimeout(function(){return t.handlePress(e)},t.props.pressDelay))}}}),Q(Y(Y(t)),"nodeIsChild",function(e){return e.sortableInfo.manager===t.manager}),Q(Y(Y(t)),"handleMove",function(e){var n=t.props,o=n.distance,r=n.pressThreshold;if(!t.state.sorting&&t._touched&&!t._awaitingUpdateBeforeSortStart){var i=R(e),a={x:t._pos.x-i.x,y:t._pos.y-i.y},s=Math.abs(a.x)+Math.abs(a.y);t.delta=a,o||r&&!(r&&s>=r)?o&&s>=o&&t.manager.isActive()&&t.handlePress(e):(clearTimeout(t.cancelTimer),t.cancelTimer=setTimeout(t.cancel,0))}}),Q(Y(Y(t)),"handleEnd",function(){t._touched=!1,t.cancel()}),Q(Y(Y(t)),"cancel",function(){var e=t.props.distance;t.state.sorting||(e||clearTimeout(t.pressTimer),t.manager.active=null)}),Q(Y(Y(t)),"handlePress",function(e){try{var n=t.manager.getActive(),o=function(){if(n){var o=function(){var n=k(f),o=t.container.getBoundingClientRect(),r=a({index:h,node:f,collection:p});t.node=f,t.margin=n,t.width=r.width,t.height=r.height,t.marginOffset={x:t.margin.left+t.margin.right,y:Math.max(t.margin.top,t.margin.bottom)},t.boundingClientRect=f.getBoundingClientRect(),t.containerBoundingRect=o,t.index=h,t.newIndex=h,t.axis={x:i.indexOf("x")>=0,y:i.indexOf("y")>=0},t.offsetEdge=T(f,t.container),t.initialOffset=R(e),t.initialScroll={top:t.container.scrollTop,left:t.container.scrollLeft},t.initialWindowScroll={top:window.pageYOffset,left:window.pageXOffset};var u=f.querySelectorAll("input, textarea, select"),m=f.cloneNode(!0);if(z(m.querySelectorAll("input, textarea, select")).forEach(function(e,t){"file"!==e.type&&u[h]&&(e.value=u[t].value)}),t.helper=t.helperContainer.appendChild(m),t.helper.style.position="fixed",t.helper.style.top="".concat(t.boundingClientRect.top-n.top,"px"),t.helper.style.left="".concat(t.boundingClientRect.left-n.left,"px"),t.helper.style.width="".concat(t.width,"px"),t.helper.style.height="".concat(t.height,"px"),t.helper.style.boxSizing="border-box",t.helper.style.pointerEvents="none",l&&(t.sortableGhost=f,f.style.visibility="hidden",f.style.opacity=0),t.minTranslate={},t.maxTranslate={},t.axis.x&&(t.minTranslate.x=(d?0:o.left)-t.boundingClientRect.left-t.width/2,t.maxTranslate.x=(d?t.contentWindow.innerWidth:o.left+o.width)-t.boundingClientRect.left-t.width/2),t.axis.y&&(t.minTranslate.y=(d?0:o.top)-t.boundingClientRect.top-t.height/2,t.maxTranslate.y=(d?t.contentWindow.innerHeight:o.top+o.height)-t.boundingClientRect.top-t.height/2),s){var y;(y=t.helper.classList).add.apply(y,z(s.split(" ")))}t.listenerNode=e.touches?f:t.contentWindow,oe.move.forEach(function(e){return t.listenerNode.addEventListener(e,t.handleSortMove,!1)}),oe.end.forEach(function(e){return t.listenerNode.addEventListener(e,t.handleSortEnd,!1)}),t.setState({sorting:!0,sortingIndex:h}),c&&c({node:f,index:h,collection:p},e)},r=t.props,i=r.axis,a=r.getHelperDimensions,s=r.helperClass,l=r.hideSortableGhost,u=r.updateBeforeSortStart,c=r.onSortStart,d=r.useWindowAsScrollContainer,f=n.node,p=n.collection,h=f.sortableInfo.index,m=function(){if("function"==typeof u){t._awaitingUpdateBeforeSortStart=!0;var n=P(function(){return Promise.resolve(u({node:f,index:h,collection:p},e)).then(function(){})},function(e,n){if(t._awaitingUpdateBeforeSortStart=!1,e)throw n;return n});if(n&&n.then)return n.then(function(){})}}();return m&&m.then?m.then(o):o()}}();return Promise.resolve(o&&o.then?o.then(function(){}):void 0)}catch(e){return Promise.reject(e)}}),Q(Y(Y(t)),"handleSortMove",function(e){var n=t.props.onSortMove;e.preventDefault(),t.updatePosition(e),t.animateNodes(),t.autoscroll(),n&&n(e)}),Q(Y(Y(t)),"handleSortEnd",function(e){var n=t.props,o=n.hideSortableGhost,r=n.onSortEnd,i=t.manager.active.collection;t.listenerNode&&(oe.move.forEach(function(e){return t.listenerNode.removeEventListener(e,t.handleSortMove)}),oe.end.forEach(function(e){return t.listenerNode.removeEventListener(e,t.handleSortEnd)})),t.helper.parentNode.removeChild(t.helper),o&&t.sortableGhost&&(t.sortableGhost.style.visibility="",t.sortableGhost.style.opacity="");for(var a=t.manager.refs[i],s=0,l=a.length;s<l;s++){var u=a[s],c=u.node;u.edgeOffset=null,c.style["".concat(re,"Transform")]="",c.style["".concat(re,"TransitionDuration")]=""}clearInterval(t.autoscrollInterval),t.autoscrollInterval=null,t.manager.active=null,t.setState({sorting:!1,sortingIndex:null}),"function"==typeof r&&r({oldIndex:t.index,newIndex:t.newIndex,collection:i},e),t._touched=!1}),Q(Y(Y(t)),"autoscroll",function(){if(!t.props.disableAutoscroll){var e=t.translate,n={x:0,y:0},o={x:1,y:1},r={x:10,y:10},i=t.scrollContainer,a=i.scrollTop,s=i.scrollLeft,l=i.scrollHeight,u=i.scrollWidth,c=i.clientHeight,d=i.clientWidth,f=0===a,p=l-a-c==0,h=0===s,m=u-s-d==0;e.y>=t.maxTranslate.y-t.height/2&&!p?(n.y=1,o.y=r.y*Math.abs((t.maxTranslate.y-t.height/2-e.y)/t.height)):e.x>=t.maxTranslate.x-t.width/2&&!m?(n.x=1,o.x=r.x*Math.abs((t.maxTranslate.x-t.width/2-e.x)/t.width)):e.y<=t.minTranslate.y+t.height/2&&!f?(n.y=-1,o.y=r.y*Math.abs((e.y-t.height/2-t.minTranslate.y)/t.height)):e.x<=t.minTranslate.x+t.width/2&&!h&&(n.x=-1,o.x=r.x*Math.abs((e.x-t.width/2-t.minTranslate.x)/t.width)),t.autoscrollInterval&&(clearInterval(t.autoscrollInterval),t.autoscrollInterval=null,t.isAutoScrolling=!1),0===n.x&&0===n.y||(t.autoscrollInterval=setInterval(function(){t.isAutoScrolling=!0;var e={left:o.x*n.x,top:o.y*n.y};t.scrollContainer.scrollTop+=e.top,t.scrollContainer.scrollLeft+=e.left,t.translate.x+=e.left,t.translate.y+=e.top,t.animateNodes()},5))}}),t.manager=new ne,t.events={start:t.handleStart,move:t.handleMove,end:t.handleEnd},te(!(e.distance&&e.pressDelay),"Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time."),t.state={},t}return K(r,n),X(r,[{key:"getChildContext",value:function(){return{manager:this.manager}}},{key:"componentDidMount",value:function(){var e=this,t=this.props.useWindowAsScrollContainer,n=this.getContainer();Promise.resolve(n).then(function(n){e.container=n,e.document=e.container.ownerDocument||document;var o=e.props.contentWindow||e.document.defaultView||window;e.contentWindow="function"==typeof o?o():o,e.scrollContainer=t?e.document.scrollingElement||e.document.documentElement:e.container;for(var r in e.events)!function(t){e.events.hasOwnProperty(t)&&oe[t].forEach(function(n){return e.container.addEventListener(n,e.events[t],!1)})}(r)})}},{key:"componentWillUnmount",value:function(){var e=this;if(this.container)for(var t in this.events)!function(t){e.events.hasOwnProperty(t)&&oe[t].forEach(function(n){return e.container.removeEventListener(n,e.events[t])})}(t)}},{key:"getLockPixelOffsets",value:function(){var e=this.width,t=this.height,n=this.props.lockOffset,o=Array.isArray(n)?n:[n,n];te(2===o.length,"lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given %s",n);var r=F(o,2),i=r[0],a=r[1];return[j({lockOffset:i,width:e,height:t}),j({lockOffset:a,width:e,height:t})]}},{key:"updatePosition",value:function(e){var t=this.props,n=t.lockAxis,o=t.lockToContainerEdges,r=R(e),i={x:r.x-this.initialOffset.x,y:r.y-this.initialOffset.y};if(i.y-=window.pageYOffset-this.initialWindowScroll.top,i.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=i,o){var a=this.getLockPixelOffsets(),s=F(a,2),l=s[0],u=s[1],c={x:this.width/2-l.x,y:this.height/2-l.y},d={x:this.width/2-u.x,y:this.height/2-u.y};i.x=S(this.minTranslate.x+c.x,this.maxTranslate.x-d.x,i.x),i.y=S(this.minTranslate.y+c.y,this.maxTranslate.y-d.y,i.y)}"x"===n?i.y=0:"y"===n&&(i.x=0),this.helper.style["".concat(re,"Transform")]="translate3d(".concat(i.x,"px,").concat(i.y,"px, 0)")}},{key:"animateNodes",value:function(){var e=this.props,t=e.transitionDuration,n=e.hideSortableGhost,o=e.onSortOver,r=this.manager.getOrderedRefs(),i={left:this.container.scrollLeft-this.initialScroll.left,top:this.container.scrollTop-this.initialScroll.top},a={left:this.offsetEdge.left+this.translate.x+i.left,top:this.offsetEdge.top+this.translate.y+i.top},s={top:window.pageYOffset-this.initialWindowScroll.top,left:window.pageXOffset-this.initialWindowScroll.left},l=this.newIndex;this.newIndex=null;for(var u=0,c=r.length;u<c;u++){var d=r[u].node,f=d.sortableInfo.index,p=d.offsetWidth,h=d.offsetHeight,m={width:this.width>p?p/2:this.width/2,height:this.height>h?h/2:this.height/2},y={x:0,y:0},v=r[u].edgeOffset;v||(v=T(d,this.container),r[u].edgeOffset=v);var g=u<r.length-1&&r[u+1],b=u>0&&r[u-1];g&&!g.edgeOffset&&(g.edgeOffset=T(g.node,this.container)),f!==this.index?(t&&(d.style["".concat(re,"TransitionDuration")]="".concat(t,"ms")),this.axis.x?this.axis.y?f<this.index&&(a.left+s.left-m.width<=v.left&&a.top+s.top<=v.top+m.height||a.top+s.top+m.height<=v.top)?(y.x=this.width+this.marginOffset.x,v.left+y.x>this.containerBoundingRect.width-m.width&&g&&(y.x=g.edgeOffset.left-v.left,y.y=g.edgeOffset.top-v.top),null===this.newIndex&&(this.newIndex=f)):f>this.index&&(a.left+s.left+m.width>=v.left&&a.top+s.top+m.height>=v.top||a.top+s.top+m.height>=v.top+h)&&(y.x=-(this.width+this.marginOffset.x),v.left+y.x<this.containerBoundingRect.left+m.width&&b&&(y.x=b.edgeOffset.left-v.left,y.y=b.edgeOffset.top-v.top),this.newIndex=f):f>this.index&&a.left+s.left+m.width>=v.left?(y.x=-(this.width+this.marginOffset.x),this.newIndex=f):f<this.index&&a.left+s.left<=v.left+m.width&&(y.x=this.width+this.marginOffset.x,null==this.newIndex&&(this.newIndex=f)):this.axis.y&&(f>this.index&&a.top+s.top+m.height>=v.top?(y.y=-(this.height+this.marginOffset.y),this.newIndex=f):f<this.index&&a.top+s.top<=v.top+m.height&&(y.y=this.height+this.marginOffset.y,null==this.newIndex&&(this.newIndex=f))),d.style["".concat(re,"Transform")]="translate3d(".concat(y.x,"px,").concat(y.y,"px,0)")):n&&(this.sortableGhost=d,d.style.visibility="hidden",d.style.opacity=0)}null==this.newIndex&&(this.newIndex=this.index),o&&this.newIndex!==l&&o({newIndex:this.newIndex,oldIndex:l,index:this.index,collection:this.manager.active.collection})}},{key:"getWrappedInstance",value:function(){return te(a.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call"),this.refs.wrappedInstance}},{key:"getContainer",value:function(){var e=this.props.getContainer;return"function"!=typeof e?o.findDOMNode(this):e(a.withRef?this.getWrappedInstance():void 0)}},{key:"render",value:function(){var n=a.withRef?"wrappedInstance":null;return t.createElement(e,M({ref:n},O(this.props,"contentWindow","useWindowAsScrollContainer","distance","helperClass","hideSortableGhost","transitionDuration","useDragHandle","pressDelay","pressThreshold","shouldCancelStart","updateBeforeSortStart","onSortStart","onSortMove","onSortEnd","axis","lockAxis","lockOffset","lockToContainerEdges","getContainer","getHelperDimensions","helperContainer","disableAutoscroll")))}},{key:"helperContainer",get:function(){var e=this.props.helperContainer;return"function"==typeof e?e():this.props.helperContainer||this.document.body}}]),r}(t.Component),Q(r,"displayName",C("sortableList",e)),Q(r,"defaultProps",{axis:"y",transitionDuration:300,pressDelay:0,pressThreshold:5,distance:0,useWindowAsScrollContainer:!1,hideSortableGhost:!0,shouldCancelStart:function(e){return-1!==["input","textarea","select","option","button"].indexOf(e.target.tagName.toLowerCase())},lockToContainerEdges:!1,lockOffset:"50%",getHelperDimensions:function(e){var t=e.node;return{width:t.offsetWidth,height:t.offsetHeight}},disableAutoscroll:!1}),Q(r,"propTypes",{axis:n.oneOf(["x","y","xy"]),distance:n.number,lockAxis:n.string,helperClass:n.string,transitionDuration:n.number,contentWindow:n.any,updateBeforeSortStart:n.func,onSortStart:n.func,onSortMove:n.func,onSortOver:n.func,onSortEnd:n.func,shouldCancelStart:n.func,pressDelay:n.number,pressThreshold:n.number,useDragHandle:n.bool,useWindowAsScrollContainer:n.bool,hideSortableGhost:n.bool,lockToContainerEdges:n.bool,lockOffset:n.oneOfType([n.number,n.string,n.arrayOf(n.oneOfType([n.number,n.string]))]),getContainer:n.func,getHelperDimensions:n.func,helperContainer:n.oneOfType([n.func,"undefined"==typeof HTMLElement?n.any:n.instanceOf(HTMLElement)]),disableAutoscroll:n.bool}),Q(r,"childContextTypes",{manager:n.object.isRequired}),i}function A(e){var r,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return i=r=function(n){function r(){return q(this,r),J(this,Z(r).apply(this,arguments))}return K(r,n),X(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.collection,n=e.disabled,o=e.index;n||this.setDraggable(t,o)}},{key:"componentWillReceiveProps",value:function(e){if(this.props.index!==e.index&&this.node&&(this.node.sortableInfo.index=e.index),this.props.disabled!==e.disabled){var t=e.collection,n=e.disabled,o=e.index;n?this.removeDraggable(t):this.setDraggable(t,o)}else this.props.collection!==e.collection&&(this.removeDraggable(this.props.collection),this.setDraggable(e.collection,e.index))}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.collection;e.disabled||this.removeDraggable(t)}},{key:"setDraggable",value:function(e,t){var n=o.findDOMNode(this);n.sortableInfo={index:t,collection:e,manager:this.context.manager},this.node=n,this.ref={node:n},this.context.manager.add(e,this.ref)}},{key:"removeDraggable",value:function(e){this.context.manager.remove(e,this.ref)}},{key:"getWrappedInstance",value:function(){return te(a.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var n=a.withRef?"wrappedInstance":null;return t.createElement(e,M({ref:n},O(this.props,"collection","disabled","index")))}}]),r}(t.Component),Q(r,"displayName",C("sortableElement",e)),Q(r,"contextTypes",{manager:n.object.isRequired}),Q(r,"propTypes",{index:n.number.isRequired,collection:n.oneOfType([n.number,n.string]),disabled:n.bool}),Q(r,"defaultProps",{collection:0}),i}function D(e){var n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return r=n=function(n){function r(){return q(this,r),J(this,Z(r).apply(this,arguments))}return K(r,n),X(r,[{key:"componentDidMount",value:function(){o.findDOMNode(this).sortableHandle=!0}},{key:"getWrappedInstance",value:function(){return te(i.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var n=i.withRef?"wrappedInstance":null;return t.createElement(e,M({ref:n},this.props))}}]),r}(t.Component),Q(n,"displayName",C("sortableHandle",e)),r}n=n&&n.hasOwnProperty("default")?n.default:n;var M=r(function(e){function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},t.apply(this,arguments)}e.exports=t}),G=i,L=a,W=s,F=l,H=u,B=c,U=d,z=f,q=p,X=m,V=r(function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(o){return"function"==typeof Symbol&&"symbol"===t(Symbol.iterator)?e.exports=n=function(e){return t(e)}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":t(e)},n(o)}e.exports=n}),Y=y,J=v,Z=r(function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},t(n)}e.exports=t}),$=r(function(e){function t(n,o){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(n,o)}e.exports=t}),K=g,Q=b,ee=function(e,t,n,o,r,i,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,o,r,i,a,s],c=0;l=new Error(t.replace(/%s/g,function(){return u[c++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},te=ee,ne=function(){function e(){q(this,e),Q(this,"refs",{})}return X(e,[{key:"add",value:function(e,t){this.refs[e]||(this.refs[e]=[]),this.refs[e].push(t)}},{key:"remove",value:function(e,t){var n=this.getIndex(e,t);-1!==n&&this.refs[e].splice(n,1)}},{key:"isActive",value:function(){return this.active}},{key:"getActive",value:function(){var e=this;return this.refs[this.active.collection].find(function(t){return t.node.sortableInfo.index==e.active.index})}},{key:"getIndex",value:function(e,t){return this.refs[e].indexOf(t)}},{key:"getOrderedRefs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.active.collection;return this.refs[e].sort(w)}}]),e}(),oe={start:["touchstart","mousedown"],move:["touchmove","mousemove"],end:["touchend","touchcancel","mouseup"]},re=function(){if("undefined"==typeof window||"undefined"==typeof document)return"";var e=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1];switch(t){case"ms":return"ms";default:return t&&t.length?t[0].toUpperCase()+t.substr(1):""}}();e.SortableContainer=N,e.sortableContainer=N,e.SortableElement=A,e.sortableElement=A,e.SortableHandle=D,e.sortableHandle=D,e.arrayMove=x,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(0),n(7),n(3))}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={translate:function(e,t,n){var o=!1;return e.some(function(e){return void 0!==t[e]&&(o=t[e],!0)}),o||n}};t.default=o},function(e,n){e.exports=t},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(0),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=n(1),c=function(e){function t(e){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),a(t,[{key:"render",value:function(){return l.default.createElement("td",{className:"erl-drag-column erl-drag-handle unselectable"},l.default.createElement("i",{className:"drag-icon"}))}}]),t}(s.Component),d=(0,u.SortableHandle)(c),f=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"render",value:function(){return this.props.enabled?l.default.createElement(d,{enabled:this.props.enabled}):l.default.createElement("td",{className:"erl-no-drag-column"}," ")}}]),t}(s.Component);t.default=f},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(0),u=o(l),c=n(6),d=o(c),f=n(13),p=o(f),h=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={value:n.props.value.map(function(e,t){var o={value:e,originalIndex:t};return void 0!==e.group&&(o.isSystemGroup=void 0!==n.props.settings.groupSettings.groups[e.group]),o}),index:{next:n.props.value.length},remove:[]},n.onSortEnd=n.onSortEnd.bind(n),n.addGroupRow=n.addGroupRow.bind(n),n.addRelationRows=n.addRelationRows.bind(n),n.toggleRemove=n.toggleRemove.bind(n),n.removeRows=n.removeRows.bind(n),n.updateRowAttribute=n.updateRowAttribute.bind(n),n.updateGroupName=n.updateGroupName.bind(n),n}return a(t,e),s(t,[{key:"onSortEnd",value:function(e){var t=e.oldIndex,n=e.newIndex;if(0!==n||this.props.settings.groupSettings.allowUngrouped||void 0!==this.state.value[t].value.group||(n=1),n!==t){var o=Object.assign({},this.state);o.value=(0,p.default)(o.value,t,n),this.setState(o)}}},{key:"addGroupRow",value:function(){var e=this.state.index.next,t=this.state.value;t.push({value:{group:"",isSystemGroup:!1},originalIndex:e++});var n=this.state;n.value=t,n.index.next=e,this.setState(n)}},{key:"addRelationRows",value:function(e){var t=this.state.index.next,n=this.state.value;e.map(function(e){n.push({value:e,originalIndex:t++})});var o=this.state;o.value=n,o.index.next=t,this.setState(o)}},{key:"toggleRemove",value:function(e){var t=this.state;-1!==t.remove.indexOf(e)?t.remove.splice(t.remove.indexOf(e),1):t.remove.push(e),this.setState(t)}},{key:"removeRows",value:function(){var e=this.state,t=e.value,n=[];t.forEach(function(t){-1!==e.remove.indexOf(t.originalIndex)&&n.push(t)}),n.forEach(function(e){t.splice(t.indexOf(e),1)}),e.remove=[],this.setState(e)}},{key:"updateRowAttribute",value:function(e,t,n){var o=this.state;o.value[e].value.attributes[t]=n,this.setState(o)}},{key:"updateGroupName",value:function(e,t){console.log(e);var n=this.state;n.value[e].value.group=t,this.setState(n)}},{key:"componentDidMount",value:function(){this.updateInput()}},{key:"componentDidUpdate",value:function(){this.updateInput()}},{key:"updateInput",value:function(){this.props.input.setAttribute("value",JSON.stringify(this.state.value.map(function(e){return e.value})))}},{key:"render",value:function(){return u.default.createElement(d.default,{settings:this.props.settings,validation:this.props.validation,items:this.state.value,languages:this.props.languages,onSortEnd:this.onSortEnd,addGroupRow:this.addGroupRow,addRelationRows:this.addRelationRows,updateRowAttribute:this.updateRowAttribute,updateGroupName:this.updateGroupName,removeList:this.state.remove,toggleRemove:this.toggleRemove,removeRows:this.removeRows,helperContainer:this.props.cloneContainer,udwContainer:this.props.udwContainer,udwModule:this.props.udwModule,attributeModules:this.props.attributeModules,restInfo:this.props.restInfo,useDragHandle:!0,lockAxis:"y"})}}]),t}(l.Component);t.default=h},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(0),u=o(l),c=n(3),d=o(c),f=n(1),p=n(10),h=o(p),m=n(11),y=o(m),v=n(12),g=o(v),b=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={udwIsOpen:!1,addFlyoutOpen:!1},n.onDocumentClick=n.onDocumentClick.bind(n),n.onAddButtonClick=n.onAddButtonClick.bind(n),n.openAddFlyout=n.openAddFlyout.bind(n),n.closeAddFlyout=n.closeAddFlyout.bind(n),n.openUdw=n.openUdw.bind(n),n.closeUdw=n.closeUdw.bind(n),n.addGroupRow=n.addGroupRow.bind(n),n.addRelationRows=n.addRelationRows.bind(n),n.canSelectContent=n.canSelectContent.bind(n),n}return a(t,e),s(t,[{key:"onDocumentClick",value:function(e){this.flyoutContainer&&this.flyoutContainer.contains(e.target)||this.addButton&&this.addButton.contains(e.target)||this.closeAddFlyout()}},{key:"onAddButtonClick",value:function(){this.props.settings.groupSettings.extendable?this.state.addFlyoutOpen||this.openAddFlyout():this.openUdw()}},{key:"openAddFlyout",value:function(){document.addEventListener("mousedown",this.onDocumentClick);var e=Object.assign({},this.state);e.addFlyoutOpen=!0,this.setState(e)}},{key:"closeAddFlyout",value:function(){document.removeEventListener("mousedown",this.onDocumentClick);var e=Object.assign({},this.state);e.addFlyoutOpen=!1,this.setState(e)}},{key:"openUdw",value:function(){var e=Object.assign({},this.state);this.state.addFlyoutOpen&&(document.removeEventListener("mousedown",this.onDocumentClick),e.addFlyoutOpen=!1),e.udwIsOpen=!0,this.setState(e)}},{key:"closeUdw",value:function(){var e=Object.assign({},this.state);e.udwIsOpen=!1,this.setState(e)}},{key:"addGroupRow",value:function(){this.closeAddFlyout(),this.props.addGroupRow()}},{key:"addRelationRows",value:function(e){var t=this,n=this.props.settings.attributeDefinitions,o=[];e.map(function(e){var r={};for(var i in n)n.hasOwnProperty(i)&&(r[i]=t.props.attributeModules[n[i].type].getEmptyValue(n[i]));o.push({contentId:e.ContentInfo.Content._id,attributes:r})});var r=Object.assign({},this.state);r.udwIsOpen=!1,this.setState(r),this.props.addRelationRows(o)}},{key:"canSelectContent",value:function(e,t){var n=e.item;"function"!=typeof t&&(t=function(){});var o=!1;this.props.settings.selectionAllowDuplicates||this.props.items.forEach(function(e){e.value.contentId===n.ContentInfo.Content._id&&(o=!0)});var r=this.props.validation.relationValidator.allowedContentTypes,i=!0;r.length>0&&-1===r.indexOf(n.ContentInfo.Content.ContentTypeInfo.identifier)&&(i=!1),t(!o&&i)}},{key:"renderUdwPortal",value:function(){var e=this.props.udwModule,t=this.props.settings.selectionLimit;t>0&&(t-=this.props.value.length);var n=this.props.settings.defaultBrowseLocation;return this.state.udwIsOpen?d.default.createPortal(u.default.createElement(e,{onConfirm:this.addRelationRows,onCancel:this.closeUdw,title:window.Translator.trans("udw.title",{},"enhancedrelationlist"),multiple:1!==t,selectedItemsLimit:t,startingLocationId:n,restInfo:this.props.restInfo,canSelectContent:this.canSelectContent}),this.props.udwContainer):""}},{key:"renderAddFlyout",value:function(){var e=this;return this.state.addFlyoutOpen?u.default.createElement("div",{className:"add-flyout",ref:function(t){e.flyoutContainer=t}},u.default.createElement("div",{className:"button-connector"}),u.default.createElement("div",{className:"description"},window.Translator.trans("content_edit.add.flyout.description",{},"enhancedrelationlist")),u.default.createElement("div",{className:"action-button-container"},u.default.createElement("button",{type:"button",className:"add-group-button btn btn-secondary",onClick:this.addGroupRow},window.Translator.trans("content_edit.add.flyout.add_group",{},"enhancedrelationlist")),u.default.createElement("button",{type:"button",className:"add-relation-button btn btn-secondary",onClick:this.openUdw},window.Translator.trans("content_edit.add.flyout.add_relation",{},"enhancedrelationlist")))):""}},{key:"render",value:function(){var e=this;return u.default.createElement("div",null,u.default.createElement("div",{className:"ez-table-header erl-table-header"},u.default.createElement("div",{className:"ez-table-header__headline"},window.Translator.trans("header.relation",{},"enhancedrelationlist")),u.default.createElement("div",{className:"add-flyout-container"},u.default.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.onAddButtonClick,ref:function(t){e.addButton=t}},u.default.createElement("svg",{className:"ez-icon"},u.default.createElement("use",{xmlnsXlink:"http://www.w3.org/1999/xlink",xlinkHref:"/bundles/ezplatformadminui/img/ez-icons.svg#create"}))),u.default.createElement("button",{type:"button",className:"btn btn-danger",disabled:!this.props.removeList.length,onClick:this.props.removeRows},u.default.createElement("svg",{className:"ez-icon"},u.default.createElement("use",{xmlnsXlink:"http://www.w3.org/1999/xlink",xlinkHref:"/bundles/ezplatformadminui/img/ez-icons.svg#trash"}))),this.renderAddFlyout())),u.default.createElement("table",{className:"relation-root-table erl-table table mb-0"},u.default.createElement(h.default,{settings:this.props.settings,languages:this.props.languages}),u.default.createElement("tbody",null,this.props.items.map(function(t,n){return void 0===t.value.group?u.default.createElement(y.default,{key:"entry-"+t.originalIndex,toggleRemove:e.props.toggleRemove,remove:-1!==e.props.removeList.indexOf(t.originalIndex),updateRowAttribute:e.props.updateRowAttribute,index:n,rowIndex:n,value:t.value,languages:e.props.languages,attributeModules:e.props.attributeModules,checked:t.checked,settings:e.props.settings,restInfo:e.props.restInfo}):void 0!==t.value.group?u.default.createElement(g.default,{key:"group-"+t.originalIndex,toggleRemove:e.props.toggleRemove,remove:-1!==e.props.removeList.indexOf(t.originalIndex),updateGroupName:e.props.updateGroupName,index:n,rowIndex:n,value:t.value,languages:e.props.languages,isSystemGroup:t.isSystemGroup,checked:t.checked,settings:e.props.settings}):void 0}))),this.renderUdwPortal())}}]),t}(l.Component),w=(0,f.SortableContainer)(b),x=function(e){function t(e){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),s(t,[{key:"render",value:function(){return u.default.createElement(w,this.props)}}]),t}(l.Component);t.default=x},function(e,t,n){e.exports=n(8)()},function(e,t,n){"use strict";function o(){}function r(){}var i=n(9);r.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,r,a){if(a!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(0),u=o(l),c=n(2),d=o(c),f=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"renderAttributeHeadings",value:function(){var e=this.props.settings.attributeDefinitions,t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(u.default.createElement("th",null,d.default.translate(this.props.languages,e[n].names,n)));return 0===t.length?u.default.createElement("th",null," "):t}},{key:"render",value:function(){return u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{className:"erl-drag-column"}),u.default.createElement("th",{className:"slim"}),u.default.createElement("th",null,window.Translator.trans("table.header.relation",{},"enhancedrelationlist")),this.renderAttributeHeadings()))}}]),t}(l.Component);t.default=f},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(0),u=o(l),c=n(1),d=n(4),f=o(d),p=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={name:null,initialized:!1},n.toggleRemove=n.toggleRemove.bind(n),n.onContentRequestFinished=n.onContentRequestFinished.bind(n),n}return a(t,e),s(t,[{key:"renderAttributes",value:function(){var e=this.props.settings.attributeDefinitions,t=[],n=null;for(var o in e)e.hasOwnProperty(o)&&(n=this.props.attributeModules[e[o].type],n?t.push(u.default.createElement("td",null,u.default.createElement(n,{key:o,updateRowAttribute:this.props.updateRowAttribute,identifier:o,definition:e[o],languages:this.props.languages,rowIndex:this.props.rowIndex,value:this.props.value.attributes[o]}))):t.push(u.default.createElement("td",null,e[o].type," is unknown")));return 0===t.length?u.default.createElement("td",null," "):t}},{key:"onContentRequestFinished",value:function(e){var t=e.Content;this.setState({name:t.Name,initialized:!0})}},{key:"componentDidMount",value:function(){var e=new Request("/api/ezp/v2/content/objects/"+this.props.value.contentId,{method:"GET",headers:{Accept:"application/vnd.ez.api.View+json; version=1.1","Content-Type":"application/vnd.ez.api.ViewInput+json; version=1.1","X-Requested-With":"XMLHttpRequest","X-Siteaccess":this.props.restInfo.siteaccess,"X-CSRF-Token":this.props.restInfo.token},mode:"same-origin",credentials:"same-origin"}),t=window.Translator.trans("table.row.content.load_error",{},"enhancedrelationlist");fetch(e).then(window.eZ.helpers.request.getJsonFromResponse).then(this.onContentRequestFinished).catch(function(){return window.eZ.helpers.notification.showErrorNotification(t)})}},{key:"toggleRemove",value:function(){this.props.toggleRemove(this.props.rowIndex)}},{key:"render",value:function(){return u.default.createElement("tr",{className:"ez-relations__item erl-relation-item"},u.default.createElement(f.default,{enabled:!0}),u.default.createElement("td",{className:"slim"},u.default.createElement("label",{className:"slim-content"},u.default.createElement("input",{className:"erl-remove-control",type:"checkbox",checked:this.props.remove,onChange:this.toggleRemove}))),u.default.createElement("td",null,this.state.initialized?this.state.name:u.default.createElement("em",null,"loading...")),this.renderAttributes())}}]),t}(l.Component),h=(0,c.SortableElement)(p),m=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){return u.default.createElement(h,this.props)}}]),t}(l.Component);t.default=m},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(0),u=o(l),c=n(1),d=n(4),f=o(d),p=n(2),h=o(p),m=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleRemove=n.toggleRemove.bind(n),n.updateGroupName=n.updateGroupName.bind(n),n}return a(t,e),s(t,[{key:"renderExtraCells",value:function(){var e=this.props.settings.attributeDefinitions,t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(u.default.createElement("td",null," "));return 0===t.length?"":(t.shift(),t)}},{key:"renderRemoveInput",value:function(){return this.props.isSystemGroup?"":u.default.createElement("input",{className:"erl-remove-control",type:"checkbox",checked:this.props.remove,onChange:this.toggleRemove})}},{key:"renderGroupNameColumn",value:function(){if(this.props.isSystemGroup){var e=this.props.settings.groupSettings.groups;return h.default.translate(this.props.languages,e[this.props.value.group],this.props.value.group)}return u.default.createElement("input",{type:"text",className:"ez-data-source__input form-control erl-group-name-input",value:this.props.value.group,onChange:this.updateGroupName})}},{key:"toggleRemove",value:function(){this.props.toggleRemove(this.props.rowIndex)}},{key:"updateGroupName",value:function(e){this.props.updateGroupName(this.props.rowIndex,e.target.value)}},{key:"render",value:function(){return u.default.createElement("tr",{className:"ez-relations__group erl-relation-group"},u.default.createElement(f.default,{enabled:!this.props.settings.groupSettings.positionsFixed||!this.props.isSystemGroup}),u.default.createElement("td",{className:"slim"},u.default.createElement("label",{className:"slim-content"},this.renderRemoveInput())),u.default.createElement("td",{className:"unselectable"},window.Translator.trans("table.column.group_name",{},"enhancedrelationlist")),u.default.createElement("td",{className:this.props.isSystemGroup?"unselectable":""},this.renderGroupNameColumn()),this.renderExtraCells())}}]),t}(l.Component),y=(0,c.SortableElement)(m),v=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){return u.default.createElement(y,this.props)}}]),t}(l.Component);t.default=v},function(e,t,n){"use strict";function o(e,t,n){e.splice(n<0?e.length+n:n,0,e.splice(t,1)[0])}e.exports=function(e,t,n){return e=e.slice(),o(e,t,n),e},e.exports.mut=o}]).default});